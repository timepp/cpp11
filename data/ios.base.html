<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">

<script type="text/javascript" src="../sh_main.js"></script>
<script type="text/javascript" src="../sh_cpp.js"></script>
<!--[IF IE]>
	<script type="text/javascript" src="ierange.js"></script>
<![ENDIF]-->
<script type="text/javascript" src="../masha.min.js"></script>
<script type="text/javascript" src="../all_pack.js"></script>
<link rel="stylesheet" type="text/css" href="../css/masha.css">
<link rel="stylesheet" type="text/css" href="../sh_print.css">
<link rel="stylesheet" type="text/css" href="../toc.css">
<link rel="stylesheet" type="text/css" href="../styles.css">
<script type="text/javascript" src="../page.js"></script>

<title>Class ios_base</title>
</head>
<body>
<h3>
<dfn class="label">[ios.base]</dfn><object type="application/x-oleobject" classid="clsid:1e2a7bd0-dab9-11d0-b93a-00c04fc99f9e"><param name="Keyword" value="[ios.base]"></object>27.5.3 Class <code class="sh_cpp"><dfn>ios_base</dfn><object type="application/x-oleobject" classid="clsid:1e2a7bd0-dab9-11d0-b93a-00c04fc99f9e"><param name="Keyword" value="ios_base"></object></code> </h3>

<pre><code class="sh_cpp">namespace std {
  class ios_base {
  public:
    class failure;

    // <a title="ios::fmtflags" href="ios.fmtflags.html">27.5.3.1.2</a> fmtflags
    typedef <var>T1</var> fmtflags;
    static constexpr fmtflags boolalpha = <em>unspecified</em>;
    static constexpr fmtflags dec = <em>unspecified</em>;
    static constexpr fmtflags fixed = <em>unspecified</em>;
    static constexpr fmtflags hex = <em>unspecified</em>;
    static constexpr fmtflags internal = <em>unspecified</em>;
    static constexpr fmtflags left = <em>unspecified</em>;
    static constexpr fmtflags oct = <em>unspecified</em>;
    static constexpr fmtflags right = <em>unspecified</em>;
    static constexpr fmtflags scientific = <em>unspecified</em>;
    static constexpr fmtflags showbase = <em>unspecified</em>;
    static constexpr fmtflags showpoint = <em>unspecified</em>;
    static constexpr fmtflags showpos = <em>unspecified</em>;
    static constexpr fmtflags skipws = <em>unspecified</em>;
    static constexpr fmtflags unitbuf = <em>unspecified</em>;
    static constexpr fmtflags uppercase = <em>unspecified</em>;
    static constexpr fmtflags adjustfield = <em>see below</em>;
    static constexpr fmtflags basefield = <em>see below</em>;
    static constexpr fmtflags floatfield = <em>see below</em>;

    // <a title="ios::iostate" href="ios.iostate.html">27.5.3.1.3</a> iostate
    typedef <var>T2</var> iostate;
    static constexpr iostate badbit = <em>unspecified</em>;
    static constexpr iostate eofbit = <em>unspecified</em>;
    static constexpr iostate failbit = <em>unspecified</em>;
    static constexpr iostate goodbit = <em>see below</em>;

    // <a title="ios::openmode" href="ios.openmode.html">27.5.3.1.4</a> openmode
    typedef <var>T3</var> openmode;
    static constexpr openmode app = <em>unspecified</em>;
    static constexpr openmode ate = <em>unspecified</em>;
    static constexpr openmode binary = <em>unspecified</em>;
    static constexpr openmode in = <em>unspecified</em>;
    static constexpr openmode out = <em>unspecified</em>;
    static constexpr openmode trunc = <em>unspecified</em>;

    // <a title="ios::seekdir" href="ios.seekdir.html">27.5.3.1.5</a> seekdir
    typedef <var>T4</var> seekdir;
    static constexpr fmtflags beg = <em>unspecified</em>;
    static constexpr fmtflags cur = <em>unspecified</em>;
    static constexpr fmtflags end = <em>unspecified</em>;

    class Init;

    // <a title="fmtflags.state" href="fmtflags.state.html">27.5.3.2</a> fmtflags state:
    fmtflags flags() const;
    fmtflags flags(fmtflags fmtfl);
    fmtflags setf(fmtflags fmtfl);
    fmtflags setf(fmtflags fmtfl, fmtflags mask);
    void unsetf(fmtflags mask);

    streamsize precision() const;
    streamsize precision(streamsize prec);
    streamsize width() const;
    streamsize width(streamsize wide);

    // <a title="ios.base.locales" href="ios.base.locales.html">27.5.3.3</a> locales:
    locale imbue(const locale&amp; loc);
    locale getloc() const;

    // <a title="ios.base.storage" href="ios.base.storage.html">27.5.3.5</a> storage:
    static int xalloc();
    long&amp; iword(int index);
    void*&amp; pword(int index);

    // destructor
    virtual ~ios_base();

    // <a title="ios.base.callback" href="ios.base.callback.html">27.5.3.6</a> callbacks;
    enum event { erase_event, imbue_event, copyfmt_event };
    typedef void (*event_callback)(event, ios_base&amp;, int index);
    void register_callback(event_callback fn, int index);

    ios_base(const ios_base&amp;) = delete;
    ios_base&amp; operator=(const ios_base&amp;) = delete;

    static bool sync_with_stdio(bool sync = true);

  protected:
    ios_base();

  private:
    static int index;   // exposition only
    long* iarray;       // exposition only
    void** parray;      // exposition only
  };
}</code></pre>

<p><a class="anchor" id="p1" href="#p1">1</a><code class="sh_cpp">ios_base</code> defines several member types:</p>

<ul>
<li>a class <code class="sh_cpp">failure</code> derived from <code class="sh_cpp">system_error</code>;</li>
<li>a class <code class="sh_cpp">Init</code>;</li>
<li>three bitmask types, <code class="sh_cpp">fmtflags</code>, <code class="sh_cpp">iostate</code>, and <code class="sh_cpp">openmode</code>;</li>
<li>an enumerated type, <code class="sh_cpp">seekdir</code>.</li>
</ul>

<p><a class="anchor" id="p2" href="#p2">2</a>It maintains several kinds of data:</p>

<ul>
<li>state information that reflects the integrity of the stream buffer;</li>
<li>control information that influences how to interpret (format) input sequences and how to generate (format) output
	sequences;</li>
<li>additional information that is stored by the program for its private use.</li>
</ul>

<div class="note">
<p><a class="anchor" id="p3" href="#p3">3</a>[ <em>Note:</em> For the sake of exposition, the maintained data is presented here as:</p>
<ul>
<li>
<code class="sh_cpp">static int index</code>, specifies the next available unique index for the integer or pointer arrays
	maintained for the private use of the program, initialized to an unspecified value;</li>
<li>
<code class="sh_cpp">long* iarray</code>, points to the first element of an arbitrary-length <code class="sh_cpp">long</code> array maintained for
	the private use of the program;</li>
<li>
<code class="sh_cpp">void** parray</code>, points to the first element of an arbitrary-length pointer array maintained for the
	private use of the program.</li>
</ul>
<p> — <em>end note</em> ]</p>
</div>
</body>
</html>



