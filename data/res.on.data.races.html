<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<script type="text/javascript" src="../sh_main.js"></script>
<script type="text/javascript" src="../sh_cpp.js"></script>
<link rel="stylesheet" type="text/css" href="../styles.css">
<link rel="stylesheet" type="text/css" href="../sh_print.css">
<link rel="stylesheet" type="text/css" href="../toc.css">
<script type="text/javascript" src="../highlight.js"></script>
<title>Data race avoidance</title>
</head>
<body>
<h4>
<dfn class="label">[res.on.data.races]</dfn><object type="application/x-oleobject" classid="clsid:1e2a7bd0-dab9-11d0-b93a-00c04fc99f9e"><param name="Keyword" value="[res.on.data.races]"></object>17.6.5.9 Data race avoidance </h4>

<p><a class="anchor" id="p1" href="#p1">1</a>This section specifies requirements that implementations shall meet to prevent data races (<a title="intro.multithread" href="intro.multithread.html">1.10</a>).
Every standard library function shall meet each requirement unless otherwise specified. Implementations may prevent data
races in cases other than those specified below.</p>

<p><a class="anchor" id="p2" href="#p2">2</a>A C++ standard library function shall not directly or indirectly access objects (<a title="intro.multithread" href="intro.multithread.html">1.10</a>) accessible by
threads other than the current thread unless the objects are accessed directly or indirectly via the function’s
arguments, including <code class="sh_cpp">this</code>.</p>

<p><a class="anchor" id="p3" href="#p3">3</a>A C++ standard library function shall not directly or indirectly modify objects (<a title="intro.multithread" href="intro.multithread.html">1.10</a>) accessible by
threads other than the current thread unless the objects are accessed directly or indirectly via the function’s
non-const arguments, including <code class="sh_cpp">this</code>.</p>

<p><a class="anchor" id="p4" href="#p4">4</a><span class="note">[ <em>Note:</em> This means, for example, that implementations can’t use a static object for internal purposes without
synchronization because it could cause a data race even in programs that do not explicitly share objects between
threads. — <em>end note</em> ]</span></p>

<p><a class="anchor" id="p5" href="#p5">5</a>A C++ standard library function shall not access objects indirectly accessible via its arguments or via
elements of its container arguments except by invoking functions required by its specification on those container
elements.</p>

<p><a class="anchor" id="p6" href="#p6">6</a>Operations on iterators obtained by calling a standard library container or string member function may access
the underlying container, but shall not modify it. <span class="note">[ <em>Note:</em> In particular, container operations that invalidate iterators
conflict with operations on iterators associated with that container. — <em>end note</em> ]</span></p>

<p><a class="anchor" id="p7" href="#p7">7</a>Implementations may share their own internal objects between threads if the objects are not visible to users
and are protected against data races.</p>

<p><a class="anchor" id="p8" href="#p8">8</a>Unless otherwise specified, C++ standard library functions shall perform all operations solely within the
current thread if those operations have effects that are visible (<a title="intro.multithread" href="intro.multithread.html">1.10</a>) to users.</p>

<p><a class="anchor" id="p9" href="#p9">9</a><span class="note">[ <em>Note:</em> This allows implementations to parallelize operations if there are no visible side effects. — <em>end note</em> ]</span></p>
</body>
</html>

