<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<script type="text/javascript" src="../sh_main.js"></script>
<script type="text/javascript" src="../sh_cpp.js"></script>
<link rel="stylesheet" type="text/css" href="../styles.css">
<link rel="stylesheet" type="text/css" href="../sh_print.css">
<link rel="stylesheet" type="text/css" href="../toc.css">
<script type="text/javascript" src="../highlight.js"></script>
<title>Friend names declared within a class template</title>
</head>
<body>
<h3>
<dfn class="label">[temp.inject]</dfn><object type="application/x-oleobject" classid="clsid:1e2a7bd0-dab9-11d0-b93a-00c04fc99f9e"><param name="Keyword" value="[temp.inject]"></object>14.6.5 Friend names declared within a class template </h3>

<p><a class="anchor" id="p1" href="#p1">1</a>Friend classes or functions can be declared within a class template. When a template is instantiated, the names
of its friends are treated as if the specialization had been explicitly declared at its point of instantiation.</p>

<p><a class="anchor" id="p2" href="#p2">2</a>As with non-template classes, the names of namespace-scope friend functions of a class template specialization
are not visible during an ordinary lookup unless explicitly declared at namespace scope (<a title="class.friend" href="class.friend.html">11.3</a>). Such names
may be found under the rules for associated classes (<a title="basic.lookup.argdep" href="basic.lookup.argdep.html">3.4.2</a>).<sup class="footnote"><a href="#fn145">145</a></sup></p>

<div class="example">
<p>[ <em>Example:</em> </p>
<pre><code class="sh_cpp">template&lt;typename T&gt; struct number {
  number(int);
  friend number gcd(number x, number y) { return 0; };
};

void g() {
  number&lt;double&gt; a(3), b(4);
  a = gcd(a,b);     // finds gcd because number&lt;double&gt; is an
                    // associated class, making gcd visible
                    // in its namespace (global scope)
  b = gcd(3,4);     // ill-formed; gcd is not visible
}</code></pre>
<p> — <em>end example</em> ]</p>
</div>


<div><p class="footnote" id="fn145">145) Friend declarations do not introduce new names into any scope, either when the template is declared or
when it is instantiated.</p></div>
</body>
</html>

