<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<script type="text/javascript" src="../sh_main.js"></script>
<script type="text/javascript" src="../sh_cpp.js"></script>
<link rel="stylesheet" type="text/css" href="../styles.css">
<link rel="stylesheet" type="text/css" href="../sh_print.css">
<link rel="stylesheet" type="text/css" href="../toc.css">
<script type="text/javascript" src="../highlight.js"></script>
<title>shared_ptr assignment</title>
</head>
<body>
<h5>
<dfn class="label">[util.smartptr.shared.assign]</dfn><object type="application/x-oleobject" classid="clsid:1e2a7bd0-dab9-11d0-b93a-00c04fc99f9e"><param name="Keyword" value="[util.smartptr.shared.assign]"></object>20.7.2.2.3 <code class="sh_cpp">shared_ptr</code> assignment </h5>

<h6><code class="sh_cpp">shared_ptr&amp; <dfn>operator=</dfn><object type="application/x-oleobject" classid="clsid:1e2a7bd0-dab9-11d0-b93a-00c04fc99f9e"><param name="Keyword" value="operator="></object>(const shared_ptr&amp; r) noexcept;
template&lt;class Y&gt; shared_ptr&amp; operator=(const shared_ptr&lt;Y&gt;&amp; r) noexcept;
template&lt;class Y&gt; shared_ptr&amp; operator=(auto_ptr&lt;Y&gt;&amp;&amp; r);</code></h6>

<p><a class="anchor" id="p1" href="#p1">1</a><em>Effects:</em> Equivalent to <code class="sh_cpp">shared_ptr(r).swap(*this)</code>.</p>

<p><a class="anchor" id="p2" href="#p2">2</a><em>Returns:</em> <code class="sh_cpp">*this</code>.</p>

<div class="note">
<p><a class="anchor" id="p3" href="#p3">3</a>[ <em>Note:</em> The use count updates caused by the temporary object construction and destruction are not observable side
effects, so the implementation may meet the effects (and the implied guarantees) via different means, without creating a
temporary. In particular, in the example:</p>

<pre><code class="sh_cpp">shared_ptr&lt;int&gt; p(new int);
shared_ptr&lt;void&gt; q(p);
p = p;
q = p;</code></pre>

<p>both assignments may be no-ops. — <em>end note</em> ]</p>
</div>

<h6><code class="sh_cpp">shared_ptr&amp; <dfn>operator=</dfn><object type="application/x-oleobject" classid="clsid:1e2a7bd0-dab9-11d0-b93a-00c04fc99f9e"><param name="Keyword" value="operator="></object>(shared_ptr&amp;&amp; r) noexcept;
template&lt;class Y&gt; shared_ptr&amp; operator=(shared_ptr&lt;Y&gt;&amp;&amp; r) noexcept;</code></h6>

<p><a class="anchor" id="p4" href="#p4">4</a><em>Effects:</em> Equivalent to <code class="sh_cpp">shared_ptr(std::move(r)).swap(*this)</code>.</p>

<p><a class="anchor" id="p5" href="#p5">5</a><em>Returns:</em> <code class="sh_cpp">*this</code>.</p>

<h6><code class="sh_cpp">template &lt;class Y, class D&gt; shared_ptr&amp; <dfn>operator=</dfn><object type="application/x-oleobject" classid="clsid:1e2a7bd0-dab9-11d0-b93a-00c04fc99f9e"><param name="Keyword" value="operator="></object>(unique_ptr&lt;Y, D&gt;&amp;&amp; r);</code></h6>

<p><a class="anchor" id="p6" href="#p6">6</a><em>Effects:</em> Equivalent to <code class="sh_cpp">shared_ptr(std::move(r)).swap(*this)</code>.</p>

<p><a class="anchor" id="p7" href="#p7">7</a><em>Returns:</em> <code class="sh_cpp">*this</code>.</p>
</body>
</html>

