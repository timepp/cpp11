<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<script type="text/javascript" src="../sh_main.js"></script>
<script type="text/javascript" src="../sh_cpp.js"></script>
<link rel="stylesheet" type="text/css" href="../styles.css">
<link rel="stylesheet" type="text/css" href="../sh_print.css">
<link rel="stylesheet" type="text/css" href="../toc.css">
<script type="text/javascript" src="../highlight.js"></script>
<title>valarray element access</title>
</head>
<body>
<h4>
<dfn class="label">[valarray.access]</dfn><object type="application/x-oleobject" classid="clsid:1e2a7bd0-dab9-11d0-b93a-00c04fc99f9e"><param name="Keyword" value="[valarray.access]"></object>26.6.2.4 <code class="sh_cpp">valarray</code> element access </h4>

<pre><code class="sh_cpp">const T&amp; <dfn>operator[]</dfn><object type="application/x-oleobject" classid="clsid:1e2a7bd0-dab9-11d0-b93a-00c04fc99f9e"><param name="Keyword" value="operator[]"></object>(size_t) const;
T&amp; operator[](size_t);</code></pre>

<p><a class="anchor" id="p1" href="#p1">1</a>The subscript operator returns a reference to the corresponding element of the array.</p>

<p><a class="anchor" id="p2" href="#p2">2</a>Thus, the expression <code class="sh_cpp">(a[i] = q, a[i]) == q</code> evaluates as true for any non-constant
<code class="sh_cpp">valarray&lt;T&gt; a</code>, any <code class="sh_cpp">T q</code>, and for any <code class="sh_cpp">size_t i</code> such that the value of
<code class="sh_cpp">i</code> is less than the length of <code class="sh_cpp">a</code>.</p>

<p><a class="anchor" id="p3" href="#p3">3</a>The expression <code class="sh_cpp">&amp;a[i+j] == &amp;a[i] + j</code> evaluates as true for all <code class="sh_cpp">size_t i</code>
and <code class="sh_cpp">size_t j</code> such that <code class="sh_cpp">i+j</code> is less than the length of the array <code class="sh_cpp">a</code>.</p>

<p><a class="anchor" id="p4" href="#p4">4</a>Likewise, the expression <code class="sh_cpp">&amp;a[i] != &amp;b[j]</code> evaluates as true for any two arrays
<code class="sh_cpp">a</code> and <code class="sh_cpp">b</code> and for any <code class="sh_cpp">size_t i</code> and <code class="sh_cpp">size_t j</code> such that <code class="sh_cpp">i</code>
is less than the length of <code class="sh_cpp">a</code> and <code class="sh_cpp">j</code> is less than the length of <code class="sh_cpp">b</code>. This property
indicates an absence of aliasing and may be used to advantage by optimizing compilers.<sup class="footnote"><a href="#fn289">289</a></sup></p>

<p><a class="anchor" id="p5" href="#p5">5</a>The reference returned by the subscript operator for an array is guaranteed to be valid until the member
function <code class="sh_cpp">resize(size_t, T)</code> (<a title="valarray.members" href="valarray.members.html">26.6.2.8</a>) is called for that array or until the lifetime of that
array ends, whichever happens first.</p>

<p><a class="anchor" id="p6" href="#p6">6</a>If the subscript operator is invoked with a <code class="sh_cpp">size_t</code> argument whose value is not less than the
length of the array, the behavior is undefined.</p>


<div><p class="footnote" id="fn289">289) Compilers may take advantage of inlining, constant propagation, loop fusion, tracking of pointers
obtained from <code class="sh_cpp">operator new</code>, and other techniques to generate efficient <code class="sh_cpp">valarray</code>s.</p></div>
</body>
</html>

